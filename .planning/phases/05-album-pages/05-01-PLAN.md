---
phase: 05-album-pages
plan: 01
type: execute
---

<objective>
Add clickable album detail pages to the photo gallery with image grids.

Purpose: Transform static gallery cards into links to full album pages showing all photos from each exhibition/event.
Output: Album detail pages with image grids, gallery cards link to their albums, zero-JS maintained.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-phase.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-gallery/02-01-SUMMARY.md

**From prior phases:**
- GalleryCard component at src/components/GalleryCard.astro (currently not a link)
- GalleryGrid component at src/components/GalleryGrid.astro
- Gallery index pages at src/pages/sk/fotogaleria.astro and src/pages/en/photo-gallery.astro
- 8 sample gallery items with images in src/assets/gallery/
- Astro Image component pattern established (widths array, responsive srcset)
- i18n pattern: pages in src/pages/{locale}/, translations in src/i18n/ui.ts

**Current gallery items structure:**
```javascript
{ image: sample1, title: "NIKAR Training Center", subtitle: "", category: "PRIESTORY", color: "#6B4423" }
```

**Album page approach:**
- Simple image grid (Option A from discussion)
- Click any image → opens full-size in new tab (zero-JS, no lightbox)
- Album pages at /fotogaleria/[slug] and /photo-gallery/[slug]
- Each album has: title, optional description, grid of images
- Back link to gallery index

**Constraints:**
- Zero JS requirement maintained
- Static output for FTP upload
- Bilingual (SK/EN) album pages
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create album data structure and sample albums</name>
  <files>src/data/albums.ts, src/assets/gallery/albums/</files>
  <action>
1. Create src/data/albums.ts with album data structure:
   ```typescript
   export interface Album {
     slug: string;
     title: { sk: string; en: string };
     subtitle?: { sk: string; en: string };
     description?: { sk: string; en: string };
     category: string;
     categoryColor: string;
     coverImage: ImageMetadata;
     images: ImageMetadata[];
   }
   ```

2. Create src/assets/gallery/albums/ directory structure:
   - albums/nikar-training-center/ (for premises photos)
   - albums/julo-nagy/ (for exhibition photos)
   - Reuse existing sample images, distribute across 2-3 sample albums

3. Define 3 sample albums in albums.ts:
   - "nikar-training-center" - Premises (3-4 images)
   - "julo-nagy" - Exhibition (3-4 images)
   - "vernisaz-jar-2024" - Opening event (2-3 images)

4. Export albums array and helper function:
   - `getAlbumBySlug(slug: string): Album | undefined`
   - `getAllAlbums(): Album[]`

Note: For sample albums, reuse existing sample-*.jpg images. Real albums will have their own folders of images.
  </action>
  <verify>TypeScript compiles without errors: npm run build passes</verify>
  <done>Album data structure defined, 3 sample albums with images ready for use</done>
</task>

<task type="auto">
  <name>Task 2: Create album detail page and update GalleryCard to link</name>
  <files>src/pages/sk/fotogaleria/[slug].astro, src/pages/en/photo-gallery/[slug].astro, src/components/GalleryCard.astro, src/components/AlbumImageGrid.astro, src/styles/global.css</files>
  <action>
1. Create src/components/AlbumImageGrid.astro:
   - Props: images (ImageMetadata[]), albumTitle (string)
   - Renders responsive grid of images
   - Each image wrapped in `<a href={fullSizeUrl} target="_blank">` for full-size view
   - Use Astro Image component with appropriate widths
   - CSS grid similar to GalleryGrid but for photos

2. Create src/pages/sk/fotogaleria/[slug].astro:
   - Use getStaticPaths() to generate pages for all albums
   - Import album data, find by slug
   - Layout: Title, optional description, AlbumImageGrid, back link
   - Back link to /sk/fotogaleria/

3. Create src/pages/en/photo-gallery/[slug].astro:
   - Same structure, English translations
   - Back link to /en/photo-gallery/

4. Update src/components/GalleryCard.astro:
   - Add optional `href` prop
   - Wrap entire card in `<a>` tag when href provided
   - Keep existing styling, add hover state for linked cards

5. Update src/pages/sk/fotogaleria.astro:
   - Import albums data
   - Pass href to each GalleryCard: `/sk/fotogaleria/${album.slug}`

6. Update src/pages/en/photo-gallery.astro:
   - Same changes, English URLs

7. Add CSS to global.css:
   - .album-image-grid: Responsive grid for album photos
   - .album-image: Image styling with hover effect
   - .album-header: Title and description styling
   - .back-link: Navigation back to gallery index
  </action>
  <verify>npm run build succeeds, click gallery card → navigates to album page, click album image → opens full-size in new tab</verify>
  <done>Album detail pages work, gallery cards are clickable links, images open full-size on click</done>
</task>

<task type="auto">
  <name>Task 3: Add translations and final verification</name>
  <files>src/i18n/ui.ts</files>
  <action>
1. Add album-related translations to src/i18n/ui.ts:
   - 'album.backToGallery': 'Späť na galériu' / 'Back to Gallery'
   - 'album.viewFullSize': 'Zobraziť v plnej veľkosti' / 'View full size'
   - 'album.photosCount': 'fotografií' / 'photos'

2. Final verification:
   - Run npm run build
   - Check all album pages generated in dist/
   - Verify SK and EN albums have correct translations
   - Verify no JavaScript files in dist/ (zero-JS maintained)
   - Test responsive layout (resize browser)
   - Verify back links work correctly
  </action>
  <verify>npm run build succeeds, all album pages in dist/, translations correct, zero JS in output</verify>
  <done>All translations added, album pages fully functional in both languages</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Gallery index pages show clickable cards
- [ ] Clicking card navigates to album detail page
- [ ] Album pages show image grid with all album photos
- [ ] Clicking any image opens full-size in new tab
- [ ] Back link returns to gallery index
- [ ] Both SK and EN versions work correctly
- [ ] No JavaScript files in dist/ folder
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Gallery cards link to album pages
- Album pages display image grids
- Full-size image viewing works (new tab)
- Zero JS maintained throughout
- Bilingual support complete
</success_criteria>

<output>
After completion, create `.planning/phases/05-album-pages/05-01-SUMMARY.md`:

# Phase 5 Plan 01: Album Pages Summary

**[One-liner describing what shipped]**

## Accomplishments
- [Key outcomes]

## Files Created/Modified
- [File list with descriptions]

## Decisions Made
- [Key decisions and rationale, or "None"]

## Issues Encountered
- [Problems and resolutions, or "None"]

## Next Phase Readiness
- [Milestone v1.1 complete status]
</output>
