---
import BaseLayout from '../../layouts/BaseLayout.astro';
import RoomComparisonTable from '../../components/RoomComparisonTable.astro';
import { useTranslations } from '../../i18n/utils';
import { rooms } from '../../data/rooms';

const lang = 'en';
const t = useTranslations(lang);
---

<BaseLayout
  title={`${t('page.roomOverview.title')} | ${t('ui.siteName')}`}
  description={t('page.roomOverview.description')}
  lang={lang}
>
  <div class="room-overview-page">
    <h1>{t('page.roomOverview.title')}</h1>
    <p class="room-overview-intro">{t('roomOverview.intro')}</p>

    <RoomComparisonTable rooms={rooms} lang={lang} />

    <section class="room-details">
      <h2>{t('room.details')}</h2>
      {rooms.map((room) => (
        <article class="room-card" style={`border-top-color: ${room.color};`}>
          <div class="room-card__header" style={`background-color: ${room.color};`}>
            <h3 class="room-card__title">
              <a href={`/en/room/${room.id}/`}>{room.name[lang]}</a>
            </h3>
          </div>
          <div class="room-card__content">
            <p class="room-card__specs">
              <span class="room-card__spec">
                <strong>{t('room.feature.size')}:</strong> {room.size} mÂ²
              </span>
              <span class="room-card__spec">
                <strong>{t('room.feature.capacity')}:</strong> {room.capacity}
              </span>
              <span class="room-card__spec">
                <strong>{t('room.floor')}:</strong> {room.floor}
              </span>
            </p>
            <ul class="room-card__features">
              {room.features.dataProjector && <li>{t('room.feature.dataProjector')}</li>}
              {room.features.projectionScreen && <li>{t('room.feature.projectionScreen')}</li>}
              {room.features.smartBoard && <li>{t('room.feature.smartBoard')}</li>}
              {room.features.flipchart && <li>{t('room.feature.flipchart')}</li>}
              {room.features.internet && <li>{t('room.feature.internet')}</li>}
              {room.features.extraTrainingSpace && <li>{t('room.feature.extraTrainingSpace')}</li>}
              {room.features.terraceAccess && <li>{t('room.feature.terraceAccess')}</li>}
              {room.features.barrierFree && <li>{t('room.feature.barrierFree')}</li>}
              {room.features.airConditioning && <li>{t('room.feature.airConditioning')}</li>}
              {room.features.audioSystem && <li>{t('room.feature.audioSystem')}</li>}
            </ul>
          </div>
        </article>
      ))}
    </section>

    <p class="room-overview-cta">
      {t('roomOverview.cta')} <a href={`/${lang}/pricing/`}>{t('roomOverview.pricingLink')}</a>.
    </p>
  </div>
</BaseLayout>

<style>
  .room-overview-page {
    max-width: 900px;
    margin: 0 auto;
  }

  .room-overview-intro {
    margin-bottom: 2rem;
    color: var(--color-text-light);
    font-size: 1.1rem;
  }

  .room-overview-cta {
    margin-top: 2rem;
    font-size: 1.1rem;
  }

  .room-overview-cta a {
    color: var(--color-primary);
    font-weight: 500;
  }

  .room-overview-cta a:hover {
    color: var(--color-primary-dark);
    text-decoration: underline;
  }

  /* Room Details Section */
  .room-details {
    margin-top: 3rem;
  }

  .room-details h2 {
    font-size: 1.5rem;
    color: var(--color-primary-dark);
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--color-primary);
  }

  .room-card {
    background: var(--color-background);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    margin-bottom: 1.5rem;
    border-top: 4px solid;
  }

  .room-card__header {
    padding: 1rem 1.25rem;
  }

  .room-card__title {
    color: white;
    margin: 0;
    font-size: 1.25rem;
  }

  .room-card__title a {
    color: white;
    text-decoration: none;
  }

  .room-card__title a:hover {
    text-decoration: underline;
  }

  .room-card__content {
    padding: 1.25rem;
  }

  .room-card__specs {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-border);
  }

  .room-card__spec {
    color: var(--color-text);
  }

  .room-card__features {
    list-style: none;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 0.5rem;
  }

  .room-card__features li {
    position: relative;
    padding-left: 1.5rem;
    color: var(--color-text);
  }

  .room-card__features li::before {
    content: "\2713";
    position: absolute;
    left: 0;
    color: var(--color-primary);
    font-weight: bold;
  }

  @media (max-width: 600px) {
    .room-card__specs {
      flex-direction: column;
      gap: 0.5rem;
    }

    .room-card__features {
      grid-template-columns: 1fr;
    }
  }
</style>
