---
import BaseLayout from '../../layouts/BaseLayout.astro';
import GalleryCard from '../../components/GalleryCard.astro';
import GalleryGrid from '../../components/GalleryGrid.astro';
import { useTranslations } from '../../i18n/utils';
import { getAllAlbums } from '../../data/albums';

const lang = 'en';
const t = useTranslations(lang);

const albums = getAllAlbums();

// Map category to translation key
const categoryTranslations: Record<string, string> = {
  premises: 'gallery.category.premises',
  exhibition: 'gallery.category.exhibition',
  saleExhibition: 'gallery.category.saleExhibition',
  opening: 'gallery.category.opening',
};
---

<BaseLayout
  title={`${t('page.photoGallery.title')} | ${t('ui.siteName')}`}
  description={t('page.photoGallery.description')}
  lang={lang}
>
  <h1>{t('page.photoGallery.title')}</h1>
  <p class="page-intro">{t('page.photoGallery.description')}</p>

  <GalleryGrid>
    {albums.map((album) => (
      <GalleryCard
        imageSrc={album.coverImage}
        title={album.title.en}
        subtitle={album.subtitle?.en}
        category={t(categoryTranslations[album.category])}
        categoryColor={album.categoryColor}
        href={`/en/photo-gallery/${album.slug}/`}
      />
    ))}
  </GalleryGrid>
</BaseLayout>

<style>
  .page-intro {
    margin-bottom: 2rem;
    font-size: 1.1rem;
    color: var(--color-text-light);
  }
</style>
